<div class="container mt-4">
  <div class="card p-4 shadow-sm">
    <h2 class="card-title text-center mb-4 text-primary">
      <i class="bi bi-person-fill"></i> Admin Profile
    </h2>

    @if (successMessage) {
    <div
      class="alert alert-success text-center animate__animated animate__fadeIn mb-3"
      role="alert"
    >
      {{ successMessage }}
    </div>
    } @if (errorMessage) {
    <div
      class="alert alert-danger text-center animate__animated animate__shakeX mb-3"
      role="alert"
    >
      {{ errorMessage }}
    </div>
    } @if (adminUser) {
    <div class="profile-details mb-4">
      <div class="detail-item">
        <label class="detail-label">Email:</label>
        @if (!editMode) {
        <p class="detail-value">{{ adminUser.email }}</p>
        } @else {
        <input
          type="email"
          class="form-control"
          [(ngModel)]="editedEmail"
          name="editedEmail"
          required
        />
        }
      </div>
      <div class="detail-item">
        <label class="detail-label">Role:</label>
        <p class="detail-value">{{ adminUser.role | titlecase }}</p>
      </div>
    </div>

    <div class="text-center">
      @if (!editMode) {
      <button (click)="toggleEditMode()" class="btn btn-warning px-4 py-2">
        <i class="bi bi-pencil-square me-2"></i> Edit Profile
      </button>
      } @else {
      <button (click)="saveProfile()" class="btn btn-success px-4 py-2 me-3">
        <i class="bi bi-save me-2"></i> Save Changes
      </button>
      <button (click)="toggleEditMode()" class="btn btn-secondary px-4 py-2">
        <i class="bi bi-x-circle me-2"></i> Cancel
      </button>
      }
    </div>
    } @else {
    <div class="text-center text-muted">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2">Loading profile...</p>
    </div>
    }
  </div>
</div>
