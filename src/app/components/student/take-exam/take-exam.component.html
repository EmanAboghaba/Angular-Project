<div class="container mt-4">
  @if (exam) {
    <div class="mb-3 p-3 rounded shadow-sm bg-light d-flex justify-content-between align-items-center">
      <h2 class="text-primary">üìù {{ exam.title }}</h2>
      <div class="alert alert-info m-0 fw-bold">
        ‚è∞ Time Left: {{ formattedTime }}
      </div>
    </div>

    <form (ngSubmit)="submitExam()" class="mt-3 animate__animated animate__fadeIn">
      @for (question of exam.questions; track question.id) {
        <div class="mb-4 p-3 border rounded bg-white shadow-sm">
          <h5 class="mb-3 text-dark">{{ question.text }}</h5>

          @for (choice of question.choices; track choice.id) {
            <div class="form-check mb-2">
              <input
                type="radio"
                class="form-check-input"
                [id]="'q' + question.id + '_choice' + choice.id"
                [name]="'q' + question.id"
                [value]="choice.id"
                [(ngModel)]="answers[question.id]"
                required
              />
              <label class="form-check-label" [for]="'q' + question.id + '_choice' + choice.id">
                {{ choice.text }}
              </label>
            </div>
          }
        </div>
      }

      <div class="text-end">
        <button type="submit" class="btn btn-primary px-4 py-2">‚úÖ Submit Exam</button>
      </div>
    </form>
  }
</div>
