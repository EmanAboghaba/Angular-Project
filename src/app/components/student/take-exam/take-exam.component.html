<div class="container mt-4">
  @if (exam) {
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2>üìù {{ exam.title }}</h2>
      <div class="alert alert-info m-0">
        ‚è± Time Remaining: <strong>{{ formattedTime }}</strong>
      </div>
    </div>

    <p><strong>Description:</strong> {{ exam.description }}</p>
    <p><strong>Duration:</strong> {{ exam.duration }} minutes</p>

    <form (ngSubmit)="submitExam()" class="mt-4">
      @for (question of exam.questions; track question.id) {
        <div class="mb-4 border rounded p-3 bg-light">
          <h5>{{ question.text }}</h5>

          @for (choice of question.choices; track choice.id) {
            <div class="form-check">
              <input
                type="radio"
                class="form-check-input"
                [id]="'q' + question.id + '_choice' + choice.id"
                [name]="'q' + question.id"
                [value]="choice.id"
                [(ngModel)]="answers[question.id]"
                required
              />
              <label class="form-check-label" [for]="'q' + question.id + '_choice' + choice.id">
                {{ choice.text }}
              </label>
            </div>
          }
        </div>
      }

      <div class="text-end">
        <button type="submit" class="btn btn-success mt-3">‚úÖ Submit Exam</button>
      </div>
    </form>
  }
</div>